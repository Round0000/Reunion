<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="manifest" href="/site.webmanifest" />
    <script src="data-management.js" defer></script>
    <script src="app.js" defer></script>
    <title>Reunion</title>
  </head>
  <body data-mode="admin">
    <header id="header">
      <div class="container">
        <h1><a id="linkHome" href="">Reunion</a></h1>
        <button class="help_button"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#ebebeb" viewBox="0 0 256 256"><path d="M138,180a10,10,0,1,1-10-10A10,10,0,0,1,138,180ZM128,74c-21,0-38,15.25-38,34v4a6,6,0,0,0,12,0v-4c0-12.13,11.66-22,26-22s26,9.87,26,22-11.66,22-26,22a6,6,0,0,0-6,6v8a6,6,0,0,0,12,0v-2.42c18.11-2.58,32-16.66,32-33.58C166,89.25,149,74,128,74Zm102,54A102,102,0,1,1,128,26,102.12,102.12,0,0,1,230,128Zm-12,0a90,90,0,1,0-90,90A90.1,90.1,0,0,0,218,128Z"></path></svg></button>
        <div id="header_icon"></div>
        <button id="menu_toggler" class="hidden">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            xmlns:xlink="http://www.w3.org/1999/xlink"
            aria-hidden="true"
            role="img"
            class="iconify iconify--ri"
            width="32"
            height="32"
            preserveAspectRatio="xMidYMid meet"
            viewBox="0 0 24 24"
          >
            <path
              fill="currentColor"
              d="M3 4h18v2H3V4zm0 7h12v2H3v-2zm0 7h18v2H3v-2z"
            ></path>
          </svg>
        </button>
        <nav id="menu">
          <ul></ul>
          <div class="existing_members_area">
            <p>Editer les disponibilités d'un utilisateur existant : </p>
          <div id="existing_members">
          </div>
          </div>
        </nav>
      </div>
    </header>

    <main id="ui_main" data-mode="admin">
      <section id="section_createNewCalendar">
        <header>
          <div class="container">
            <h2>Création d'un nouvel agenda</h2>
          </div>
        </header>
        <div class="container">
          <form>
            <div>
              <h3>Intitulé</h3>
              <div class="form_box">
                <input
                  type="text"
                  name="title"
                  id="new_title"
                  placeholder="Titre"
                />
              </div>
            </div>
            <div class="new_period">
              <h3>Période</h3>
              <div class="form_box">
                <div class="form_item">
                  <label for="new_start">Date de début</label>
                  <input type="date" name="start" id="new_start" min="" required />
                </div>
                <div class="form_item">
                  <label for="new_end">Date de fin</label>
                  <input type="date" name="end" id="new_end" required />
                </div>
              </div>
            </div>
            <div class="form_options">
              <h3>Créneaux</h3>
              <span
                >Cliquer sur [+] pour ajouter un créneau supplémentaire</span
              >
              <div class="form_box">
                <div>
                  <input
                    type="text"
                    maxlength="14"
                    placeholder="ex.: 10h30, matin..."
                  />
                  <input
                    type="text"
                    maxlength="14"
                    placeholder="ex.: 10h30, matin..."
                  />
                </div>
                <button type="button" id="add_new_option">+</button>
              </div>
            </div>
            <button type="submit">Créer</button>
          </form>
        </div>
      </section>

      <section id="section_calendar" class="hidden">
        <header>
          <div class="container">
            <h2>Période de sélection</h2>
          </div>
        </header>
        <div class="container">
          <form id="calendarForm">
            <div id="public_form_details">
              <h3 id="public_form_title">Répètes Eusebes</h3>
              <p id="public_form_period">Du 22.03.2022 au 19.04.2022</p>
              <div class="username_box">
                <label id="username_label">
                  <input
                    type="text"
                    placeholder="Votre nom"
                    autocomplete="off"
                    list="membernames"
                    id="username_input"
                    name="username"
                    maxlength="20"
                  />
                </label>
              </div>
              <button type="button" class="mode_toggler" id="editMode_toggler">
                Passer en mode Edition
              </button>
              <button
                type="button"
                class="mode_toggler"
                id="displayMode_toggler"
              >
                Voir les résultats
              </button>
            </div>

            <div id="display_settings">
              <label>
                <span>Filtrer par meilleures disponibilités</span>
                <input
                  type="range"
                  id="display_filter_total"
                  step="1"
                  value="0"
                />
              </label>
            </div>

            <ul id="calendarForm_list"></ul>
          </form>
        </div>

        <a id="backToTop" href="#calendarForm">Retour en haut</a>

        <div id="calendarForm_actions">
          <div class="container">
            <button type="button" id="action_checkAll">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink"
                aria-hidden="true"
                role="img"
                class="iconify iconify--ic"
                width="32"
                height="32"
                preserveAspectRatio="xMidYMid meet"
                viewBox="0 0 24 24"
              >
                <path
                  fill="currentColor"
                  d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zM17.99 9l-1.41-1.42l-6.59 6.59l-2.58-2.57l-1.42 1.41l4 3.99z"
                ></path>
              </svg>
            </button>
            <button type="button" id="action_uncheckAll">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink"
                aria-hidden="true"
                role="img"
                class="iconify iconify--ic"
                width="32"
                height="32"
                preserveAspectRatio="xMidYMid meet"
                viewBox="0 0 24 24"
              >
                <path
                  fill="currentColor"
                  d="M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"
                ></path>
              </svg>
            </button>
            <button type="submit" form="calendarForm">Valider</button>
          </div>
        </div>
      </section>

      <section id="section_newCalendarCheckout" class="hidden">
        <header>
          <div class="container">
            <h2>Nouvel agenda créé</h2>
          </div>
        </header>
        <div class="container">
          <p id="checkout_instructions">
            Votre nouvel agenda a bien été créé. Vous pouvez désormais utiliser
            le lien de partage pour renseigner vos disponibilités et inviter vos
            collaborateurs à en faire de même.
          </p>
          <div id="checkout_details">
            <h3 id="checkout_title"></h3>
            <p id="checkout_period"></p>
            <a href="#" id="checkout_link"></a>
            <button id="checkout_copy">Copier le lien</button>
          </div>
        </div>
      </section>
    </main>

    <div class="help_section hidden">
      <header>
        <div class="container">
          <h2>Guide d'utilisation</h2>
        <button class="close_help_section"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#333333" viewBox="0 0 256 256"><path d="M204.24,195.76a6,6,0,1,1-8.48,8.48L128,136.49,60.24,204.24a6,6,0,0,1-8.48-8.48L119.51,128,51.76,60.24a6,6,0,0,1,8.48-8.48L128,119.51l67.76-67.75a6,6,0,0,1,8.48,8.48L136.49,128Z"></path></svg></button>
        </div>
      </header>
      <div class="container">
        <h3>Création d'un agenda</h3>
        <p>La création s'effectue en deux étapes :</p>
        <p>Renseignez un intitulé, une période dans laquelle vous souhaitez organiser une/des réunion(s), puis une ou plusieurs options de créneaux.</p>
        <p>Le bouton [+] vous permet d'ajouter une option de créneau. Vous n'êtes pas limités en nombre, mais pour la clarté du sondage, surtout si la période est étendue, il est recommandé de se limiter à 3-4 options.</p>
        <br>
        <p>Lorsque l'intitulé, la période et les créneaux sont prêts, cliquez sur [Créer] pour passer à la 2nde étape :</p>
        <p>L'écran suivant rappelle l'intitulé et la période sélectionnée, et affiche l'ensemble des dates comprises dans la période, avec l'ensemble des créneaux par date.</p>
        <p>Vous avez ici la possibilité de filtrer des créneaux ou des journées entières que vous souhaitez exclure du sondage.</p>
        <p>Les boutons de coche, dans la barre du bas de l'écran, permettent de tout cocher/décocher d'un coup.</p>
        <p>Un créneau coché est un créneau qui sera sélectionnable par les utilisateurs de l'agenda. S'il est décoché, il sera désactivé. Si sur une date aucun créneau n'est coché, la date n'apparaitra pas dans le sondage.</p>
        <p>Lorsque vous êtes prêts, cliquez sur [Créer] pour finaliser la création de l'agenda. Un écran vous donnera le lien à partager avec les participant·e·s.</p>
        
        <br><br>

        <h3>Participation à un agenda</h3>
        <p>Renseignez votre nom ou pseudo, puis dans la liste des dates, cochez les créneaux auxquels vous serez disponibles.</p>
        <p>Cliquer deux fois sur un créneau permet de le passer en "peut-être", marquant la distinction avec une coche classique qui a un caractère plus certain/définitif.</p>
        <p>Vous pouvez utiliser les boutons de la barre du bas de l'écran pour tout cocher/décocher d'un coup, ce qui peut s'avérer pratique lors d'une grande quantité de dates.</p>
        <p>Lorsque vous êtes prêts, cliquez sur [Valider] pour enregistrer vos disponibilités.</p>
      </div>
    </div>

    <div id="images">
      <img src="./img/check.svg" alt="" />
      <img src="./img/maybe.svg" alt="" />
      <img src="./img/disabled.svg" alt="" />
      <img src="./img/total.svg" alt="" />
      <img src="./img/no.svg" alt="" />
    </div>

    <!-- Firebase -->
    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/8.3.2/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.3.2/firebase-firestore.js"></script>

    <!-- TODO: Add SDKs for Firebase products that you want to use
       https://firebase.google.com/docs/web/setup#available-libraries -->
    <script src="https://www.gstatic.com/firebasejs/8.3.2/firebase-analytics.js"></script>

    <script>
      // Your web app's Firebase configuration
      // For Firebase JS SDK v7.20.0 and later, measurementId is optional
      const firebaseConfig = {
        apiKey: "AIzaSyBN7x3gHWtflqjKx5-bXAiHz96yjMyIIGw",
        authDomain: "reunion-f4652.firebaseapp.com",
        projectId: "reunion-f4652",
        storageBucket: "reunion-f4652.appspot.com",
        messagingSenderId: "820805976051",
        appId: "1:820805976051:web:243643e68e1df3db189c86",
      };
      // Initialize Firebase
      firebase.initializeApp(firebaseConfig);
      firebase.analytics();
      let db = firebase.firestore();
    </script>
  </body>
</html>
